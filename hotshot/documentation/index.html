<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="HotShot: A linear time, committee electing, BFT Protocol."><meta name="keywords" content="rust, rustlang, rust-lang, documentation"><title>hotshot::documentation - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../hotshot/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../hotshot/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module documentation</a></h2><div class="sidebar-elems"></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Module <a href="../index.html">hotshot</a>::<wbr><a class="mod" href="#">documentation</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/hotshot/documentation.rs.html#2-19">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="hotshot-a-linear-time-committee-electing-bft-protocol"><a href="#hotshot-a-linear-time-committee-electing-bft-protocol">HotShot: A linear time, committee electing, BFT Protocol.</a></h2><h3 id="table-of-contents"><a href="#table-of-contents">Table of contents</a></h3>
<ol>
<li><a href="#background">Background</a></li>
<li><a href="#protocol-overview">Protocol Overview</a>
<ol>
<li><a href="#basics">Basics</a>
<ul>
<li><a href="#view-timeouts">View Timeouts</a></li>
</ul>
</li>
<li><a href="#sequential">Sequential HotShot</a>
<ul>
<li><a href="#sequential-leader">ValidatingLeader</a></li>
<li><a href="#sequential-replica">Replica</a></li>
</ul>
</li>
<li><a href="#pipelined">Pipelined HotShot</a></li>
</ol>
</li>
<li><a href="#appendices">Appendices</a> 
<ol>
<li><a href="#definitions">Definitions</a>
<ol>
<li><a href="#quorum-certificate">Quorum Certificate</a></li>
<li><a href="#safe-node-predicate">Safe Node Predicate</a></li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="background"><a href="#background">Background</a></h2>
<p>HotShot is a hybrid, committee electing, Proof of Stake protocol for the partially synchronous model that exhibits
optimistic responsiveness and linear communication footprint.</p>
<p>HotShot’s construction borrows heavily from the construction of <a href="https://arxiv.org/abs/1803.05069">Hotstuff</a> and
<a href="https://people.csail.mit.edu/nickolai/papers/gilad-algorand-eprint.pdf">Algorand</a>, in many senses being a synthesis of
Hotstuff’s protocol with Algorand’s sortition.</p>
<h2 id="protocol-overview"><a href="#protocol-overview">Protocol Overview</a></h2>
<p>HotShot comes in two variants, <a href="#pipelined">Pipelined HotShot</a> and <a href="#sequential">Sequential HotShot</a>.
Sequential HotShot is the simpler of the two variants, and is the basal form, from which Pipelined HotShot is
derived, so it will be discussed first.</p>
<h3 id="basics"><a href="#basics">Basics</a></h3>
<p>The operation of HotShot is divided in to a sequence of discrete epoch, referred to as
‘views’. Each view is assigned an integer index (represented as a <a href="https://doc.rust-lang.org/1.67.0/std/primitive.u64.html" title="u64"><code>u64</code></a>) starting with 0, which is
monotonically increasing.</p>
<p>In each view number, a singe node is designated the ‘leader’<sup id="fnref1"><a href="#fn1">1</a></sup>, and is responsible for driving
consensus for that round. The leader changes with each view number, and every caught-up node
independently calculates who they think the leader is, without communication.</p>
<p>For the sake of simplicity, the leaders are not described as voting, however, the leader in a given
view additionally performs all the actions that a replica would, in addition to its own, including
voting. </p>
<p>All nodes maintain an internal reference to a Quorum Certificated called the LockedQC, which is
updated when the node commits a Leaf. Nodes will only accept leaves that extend from their LockedQC
<em>or</em> leaves that extend from a QC with a view number higher than that of any QC the node has seen.</p>
<h4 id="view-timeouts"><a href="#view-timeouts">View Timeouts</a></h4>
<p>The particular method a node uses to determine if a round has timed out is not important for saftey,
but is critical for liveness.</p>
<p>Currently, nodes apply an approach where the timeout normally takes on a set value, but engages in
exponential back-off when a round fails, ensuring that <em>eventually</em> enough nodes will been in the
same view number to complete a round.</p>
<p>At present, when a round does successfully complete, the timeout is immediately dropped all the way
back down to the set timeout value.</p>
<p>As the protocol exhibits optimistic responsiveness<sup id="fnref2"><a href="#fn2">2</a></sup>, there is little detriment to setting the
base value for timeouts higher than is strictly necessary.</p>
<h3 id="sequential"><a href="#sequential">Sequential</a></h3>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMTIzcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDoxMjg4cHg7aGVpZ2h0OjEyM3B4OyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTI4OCAxMjMiIHdpZHRoPSIxMjg4cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZmt2bXNmaDFlMjgxbyIgd2lkdGg9IjMwMCUiIHg9Ii0xIiB5PSItMSI+PGZlR2F1c3NpYW5CbHVyIHJlc3VsdD0iYmx1ck91dCIgc3RkRGV2aWF0aW9uPSIyLjAiLz48ZmVDb2xvck1hdHJpeCBpbj0iYmx1ck91dCIgcmVzdWx0PSJibHVyT3V0MiIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIC40IDAiLz48ZmVPZmZzZXQgZHg9IjQuMCIgZHk9IjQuMCIgaW49ImJsdXJPdXQyIiByZXN1bHQ9ImJsdXJPdXQzIi8+PGZlQmxlbmQgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iYmx1ck91dDMiIG1vZGU9Im5vcm1hbCIvPjwvZmlsdGVyPjwvZGVmcz48Zz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmt2bXNmaDFlMjgxbykiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjUiIHg9IjYxLjUiIHk9IjM1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNjEuNSIgeDI9IjEyNi41IiB5MT0iNjEuMjk2OSIgeTI9IjYxLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0NSIgeD0iNzEuNSIgeT0iNTIuOTk1MSI+VmlldyAxPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNma3Ztc2ZoMWUyODFvKSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2NSIgeD0iMTYxLjUiIHk9IjM1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTYxLjUiIHgyPSIyMjYuNSIgeTE9IjYxLjI5NjkiIHkyPSI2MS4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDUiIHg9IjE3MS41IiB5PSI1Mi45OTUxIj5WaWV3IDI8L3RleHQ+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2Zrdm1zZmgxZTI4MW8pIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijg1IiB4PSIxMTkxLjUiIHk9IjM1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMTE5MS41IiB4Mj0iMTI3Ni41IiB5MT0iNjEuMjk2OSIgeTI9IjYxLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iMTIwMS41IiB5PSI1Mi45OTUxIj5WaWV3IG4razwvdGV4dD48ZWxsaXBzZSBjeD0iMTYiIGN5PSI2MCIgZmlsbD0iIzAwMDAwMCIgZmlsdGVyPSJ1cmwoI2Zrdm1zZmgxZTI4MW8pIiByeD0iMTAiIHJ5PSIxMCIgc3R5bGU9InN0cm9rZTogbm9uZTsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2Zrdm1zZmgxZTI4MW8pIiBoZWlnaHQ9IjEwNC4yOTY5IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjQxNiIgeD0iMjYyIiB5PSI4Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI3MiIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjRkZGRkZGOyBzdHJva2Utd2lkdGg6IDEuMDsiIHdpZHRoPSI0MTAiIHg9IjI2NSIgeT0iMzcuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjI2MiIgeDI9IjY3OCIgeTE9IjM0LjI5NjkiIHkyPSIzNC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDUiIHg9IjQ0Ny41IiB5PSIyNS45OTUxIj5WaWV3IG48L3RleHQ+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2Zrdm1zZmgxZTI4MW8pIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjEwMSIgeD0iMzY1LjUiIHk9IjQ3LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIzNjUuNSIgeDI9IjQ2Ni41IiB5MT0iNzMuNTkzOCIgeTI9IjczLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI4MSIgeD0iMzc1LjUiIHk9IjY1LjI5MiI+UHJlLUNvbW1pdDwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmt2bXNmaDFlMjgxbykiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNzQiIHg9IjI3MyIgeT0iNDcuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjI3MyIgeDI9IjM0NyIgeTE9IjczLjU5MzgiIHkyPSI3My41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTQiIHg9IjI4MyIgeT0iNjUuMjkyIj5QcmVwYXJlPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNma3Ztc2ZoMWUyODFvKSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI3MyIgeD0iNDg0LjUiIHk9IjQ3LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0ODQuNSIgeDI9IjU1Ny41IiB5MT0iNzMuNTkzOCIgeTI9IjczLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1MyIgeD0iNDk0LjUiIHk9IjY1LjI5MiI+Q29tbWl0PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNma3Ztc2ZoMWUyODFvKSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2OSIgeD0iNTc1LjUiIHk9IjQ3LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI1NzUuNSIgeDI9IjY0NC41IiB5MT0iNzMuNTkzOCIgeTI9IjczLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0OSIgeD0iNTg1LjUiIHk9IjY1LjI5MiI+RGVjaWRlPC90ZXh0PjwhLS1saW5rIFByZXBhcmUgdG8gUHJlQ29tbWl0LS0+PHBhdGggZD0iTTM0Ny4yNyw3Mi4yOTY5IEMzNTEuNTgsNzIuMjk2OSAzNTUuODksNzIuMjk2OSAzNjAuMiw3Mi4yOTY5ICIgZmlsbD0ibm9uZSIgaWQ9IlByZXBhcmUtUHJlQ29tbWl0IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjM2NS4yNSw3Mi4yOTY5LDM1Ni4yNSw2OC4yOTY5LDM2MC4yNSw3Mi4yOTY5LDM1Ni4yNSw3Ni4yOTY5LDM2NS4yNSw3Mi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tbGluayBQcmVDb21taXQgdG8gQ29tbWl0LS0+PHBhdGggZD0iTTQ2Ni44Niw3Mi4yOTY5IEM0NzAuOTIsNzIuMjk2OSA0NzQuOTksNzIuMjk2OSA0NzkuMDUsNzIuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJQcmVDb21taXQtQ29tbWl0IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjQ4NC4yLDcyLjI5NjksNDc1LjIsNjguMjk2OSw0NzkuMiw3Mi4yOTY5LDQ3NS4yLDc2LjI5NjksNDg0LjIsNzIuMjk2OSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLWxpbmsgQ29tbWl0IHRvIERlY2lkZS0tPjxwYXRoIGQ9Ik01NTcuNSw3Mi4yOTY5IEM1NjEuNjQsNzIuMjk2OSA1NjUuNzcsNzIuMjk2OSA1NjkuOSw3Mi4yOTY5ICIgZmlsbD0ibm9uZSIgaWQ9IkNvbW1pdC1EZWNpZGUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNTc1LjE0LDcyLjI5NjksNTY2LjE0LDY4LjI5NjksNTcwLjE0LDcyLjI5NjksNTY2LjE0LDc2LjI5NjksNTc1LjE0LDcyLjI5NjkiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNma3Ztc2ZoMWUyODFvKSIgaGVpZ2h0PSIxMDQuMjk2OSIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI0NDMiIHg9IjcxMy41IiB5PSI4Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSI3MiIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjRkZGRkZGOyBzdHJva2Utd2lkdGg6IDEuMDsiIHdpZHRoPSI0MzciIHg9IjcxNi41IiB5PSIzNy4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNzEzLjUiIHgyPSIxMTU2LjUiIHkxPSIzNC4yOTY5IiB5Mj0iMzQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY2IiB4PSI5MDIiIHk9IjI1Ljk5NTEiPlZpZXcgbisxPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNma3Ztc2ZoMWUyODFvKSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMDEiIHg9IjgyNS41IiB5PSI0Ny4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iODI1LjUiIHgyPSI5MjYuNSIgeTE9IjczLjU5MzgiIHkyPSI3My41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iODEiIHg9IjgzNS41IiB5PSI2NS4yOTIiPlByZS1Db21taXQ8L3RleHQ+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2Zrdm1zZmgxZTI4MW8pIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjgzIiB4PSI3MjQuNSIgeT0iNDcuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjcyNC41IiB4Mj0iODA3LjUiIHkxPSI3My41OTM4IiB5Mj0iNzMuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjYzIiB4PSI3MzQuNSIgeT0iNjUuMjkyIj5QcmVwYXJlMTwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmt2bXNmaDFlMjgxbykiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iODIiIHg9Ijk0NSIgeT0iNDcuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9Ijk0NSIgeDI9IjEwMjciIHkxPSI3My41OTM4IiB5Mj0iNzMuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjYyIiB4PSI5NTUiIHk9IjY1LjI5MiI+Q29tbWl0MTwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmt2bXNmaDFlMjgxbykiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNzgiIHg9IjEwNDUiIHk9IjQ3LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxMDQ1IiB4Mj0iMTEyMyIgeTE9IjczLjU5MzgiIHkyPSI3My41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTgiIHg9IjEwNTUiIHk9IjY1LjI5MiI+RGVjaWRlMTwvdGV4dD48IS0tbGluayBQcmVwYXJlMSB0byBQcmVDb21taXQxLS0+PHBhdGggZD0iTTgwNy42OCw3Mi4yOTY5IEM4MTEuODEsNzIuMjk2OSA4MTUuOTQsNzIuMjk2OSA4MjAuMDYsNzIuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJQcmVwYXJlMS1QcmVDb21taXQxIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjgyNS4yOSw3Mi4yOTY5LDgxNi4yOSw2OC4yOTY5LDgyMC4yOSw3Mi4yOTY5LDgxNi4yOSw3Ni4yOTY5LDgyNS4yOSw3Mi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tbGluayBQcmVDb21taXQxIHRvIENvbW1pdDEtLT48cGF0aCBkPSJNOTI2LjcsNzIuMjk2OSBDOTMxLjAzLDcyLjI5NjkgOTM1LjM2LDcyLjI5NjkgOTM5LjY5LDcyLjI5NjkgIiBmaWxsPSJub25lIiBpZD0iUHJlQ29tbWl0MS1Db21taXQxIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9Ijk0NC43Nyw3Mi4yOTY5LDkzNS43Nyw2OC4yOTY5LDkzOS43Nyw3Mi4yOTY5LDkzNS43Nyw3Ni4yOTY5LDk0NC43Nyw3Mi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tbGluayBDb21taXQxIHRvIERlY2lkZTEtLT48cGF0aCBkPSJNMTAyNy4zNCw3Mi4yOTY5IEMxMDMxLjM5LDcyLjI5NjkgMTAzNS40NCw3Mi4yOTY5IDEwMzkuNDgsNzIuMjk2OSAiIGZpbGw9Im5vbmUiIGlkPSJDb21taXQxLURlY2lkZTEiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTA0NC42MSw3Mi4yOTY5LDEwMzUuNjEsNjguMjk2OSwxMDM5LjYxLDcyLjI5NjksMTAzNS42MSw3Ni4yOTY5LDEwNDQuNjEsNzIuMjk2OSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLWxpbmsgKnN0YXJ0IHRvIFZpZXcxLS0+PHBhdGggZD0iTTI2LjA1LDYwIEMzNi4wNyw2MCA0Ni4wOSw2MCA1Ni4xMSw2MCAiIGZpbGw9Im5vbmUiIGlkPSIqc3RhcnQtVmlldzEiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iNjEuMzUsNjAsNTIuMzUsNTYsNTYuMzUsNjAsNTIuMzUsNjQsNjEuMzUsNjAiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1saW5rIFZpZXcxIHRvIFZpZXcyLS0+PHBhdGggZD0iTTEyNi44MSw2MCBDMTM2LjY1LDYwIDE0Ni40OCw2MCAxNTYuMzEsNjAgIiBmaWxsPSJub25lIiBpZD0iVmlldzEtVmlldzIiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiNBODAwMzYiIHBvaW50cz0iMTYxLjQ2LDYwLDE1Mi40Niw1NiwxNTYuNDYsNjAsMTUyLjQ2LDY0LDE2MS40Niw2MCIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLWxpbmsgVmlldzIgdG8gVmlld04tLT48cGF0aCBkPSJNMjI2LjYxLDYwIEMyMzYuNiw2MCAyNDYuNTgsNjAgMjU2LjU3LDYwICIgZmlsbD0ibm9uZSIgaWQ9IlZpZXcyLVZpZXdOIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjI2MS43OSw2MCwyNTIuNzksNTYsMjU2Ljc5LDYwLDI1Mi43OSw2NCwyNjEuNzksNjAiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1saW5rIFZpZXdOIHRvIFZpZXdOMS0tPjxwYXRoIGQ9Ik02NzguNDMsNjAgQzY4OC4zMiw2MCA2OTguMiw2MCA3MDguMDksNjAgIiBmaWxsPSJub25lIiBpZD0iVmlld04tVmlld04xIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjcxMy4yNiw2MCw3MDQuMjYsNTYsNzA4LjI2LDYwLDcwNC4yNiw2NCw3MTMuMjYsNjAiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1saW5rIFZpZXdOMSB0byBWaWV3TkstLT48cGF0aCBkPSJNMTE1Ni42Miw2MCBDMTE2Ni40OSw2MCAxMTc2LjM2LDYwIDExODYuMjIsNjAgIiBmaWxsPSJub25lIiBpZD0iVmlld04xLVZpZXdOSyIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxMTkxLjM4LDYwLDExODIuMzgsNTYsMTE4Ni4zOCw2MCwxMTgyLjM4LDY0LDExOTEuMzgsNjAiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS0KQHN0YXJ0dW1sDQoNCnN0YXRlIFZpZXcxIGFzICJWaWV3IDEiDQpzdGF0ZSBWaWV3MiBhcyAiVmlldyAyIg0Kc3RhdGUgVmlld04gYXMgIlZpZXcgbiIgew0KDQogICAgc3RhdGUgUHJlQ29tbWl0IGFzICJQcmUtQ29tbWl0Ig0KDQogICAgUHJlcGFyZSAtcmlnaHQtPiBQcmVDb21taXQNCiAgICBQcmVDb21taXQgLXJpZ2h0LT4gQ29tbWl0DQogICAgQ29tbWl0IC1yaWdodC0+IERlY2lkZQ0KDQp9DQoNCnN0YXRlIFZpZXdOMSBhcyAiVmlldyBuKzEiIHsNCg0KICAgIHN0YXRlIFByZUNvbW1pdDEgYXMgIlByZS1Db21taXQiDQoNCiAgICBQcmVwYXJlMSAtcmlnaHQtPiBQcmVDb21taXQxDQogICAgUHJlQ29tbWl0MSAtcmlnaHQtPiBDb21taXQxDQogICAgQ29tbWl0MSAtcmlnaHQtPiBEZWNpZGUxDQoNCn0NCg0Kc3RhdGUgVmlld05LIGFzICJWaWV3IG4rayINCg0KWypdIC1yaWdodC0+IFZpZXcxDQpWaWV3MSAtcmlnaHQtPiBWaWV3Mg0KVmlldzIgLXJpZ2h0W2Rhc2hlZF0tPiBWaWV3Tg0KVmlld04gLXJpZ2h0LT4gVmlld04xDQpWaWV3TjEgLXJpZ2h0W2Rhc2hlZF0tPiBWaWV3TksNCkBlbmR1bWwNCgpQbGFudFVNTCB2ZXJzaW9uIDEuMjAxOC4xMyhNb24gTm92IDI2IDE0OjExOjUxIENMU1QgMjAxOCkKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IE9wZW5KREsgUnVudGltZSBFbnZpcm9ubWVudApKVk06IE9wZW5KREsgNjQtQml0IFNlcnZlciBWTQpKYXZhIFZlcnNpb246IDExLjAuMTUrMTAtVWJ1bnR1LTB1YnVudHUwLjIwLjA0LjEKT3BlcmF0aW5nIFN5c3RlbTogTGludXgKT1MgVmVyc2lvbjogNS40LjAtMTIxLWdlbmVyaWMKRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4=" alt="basic_hotstuff" /></p>
<p><em>Figure 1: Sequential HotShot. During each view, a new leader is elected and four stages are required before a replica can extend its blockchain with one block.</em></p>
<p>Sequential HotShot does not currently support committee election or dynamically updating the
membership list, instead using a predefined list of participant nodes with equal weights. Sequential
HotShot is essentially identical to <a href="https://arxiv.org/pdf/1803.05069.pdf">Basic HotStuff</a>.</p>
<p>Each view of Sequential HotShot is divided into 4 stages the specifics of which depend on if the
node is the leader or a replica. Upon either reviving a commit QC in a round, or the round timing
out, a node will calculate the next leader, and send a NewView message for the next view number to
it, tagged with the nodes current prepareQC.</p>
<h4 id="sequential-leader"><a href="#sequential-leader">Sequential Leader</a></h4>
<ol>
<li>
<p>Prepare</p>
<p>In this phase, the leader:</p>
<ul>
<li>Waits to receive NewView messages from at least <code>2f + 1</code> nodes</li>
<li>Selects the highest view-numbered Quorum Certificate from among the NewView messages to build
off of (HighQC),</li>
<li>Creates a new Leaf building off of the HighQC, containing the transactions in the leader’s
mempool, tagged with the HighQC as its justification QC</li>
<li>Broadcasts the new Leaf to the network as a proposal</li>
</ul>
</li>
<li>
<p>Pre-Commit</p>
<p>In this phase, the leader:</p>
<ul>
<li>Waits to receive at least <code>2f + 1</code> Votes (partial signatures) on its proposal from the Prepare
phase</li>
<li>Packages the votes into a Quorum Certificate marked as originating in the Prepare phase</li>
<li>Broadcasts the Quorum Certificate to the network</li>
</ul>
</li>
<li>
<p>Commit</p>
<p>In this phase, the leader:</p>
<ul>
<li>Waits to receive at least <code>2f + 1</code> Votes on the Quorum Certificate from the previous phase</li>
<li>Packages the votes into a Quorum Certificate marked as originating in the Pre-Commit Phase</li>
<li>Broadcasts the Quorum Certificate to the network</li>
</ul>
</li>
<li>
<p>Decide</p>
<p>In this phase, the leader:</p>
<ul>
<li>Waits to receive at least <code>2f + 1</code> Votes on the Quorum Certificate from the previous phase</li>
<li>Packages the votes into a Quorum Certificate marked as originating in the Commit Phase</li>
<li>Broadcasts the Quorum Certificate to the network</li>
</ul>
</li>
</ol>
<h4 id="sequential-replica"><a href="#sequential-replica">Sequential Replica</a></h4>
<ol>
<li>
<p>Prepare</p>
<p>In this phase, the replica:</p>
<ul>
<li>Waits for a proposal from the leader for the current view</li>
<li>Verifies that the proposal contains a valid block</li>
<li>Verifies that the proposal extends from the proposal’s justification QC</li>
<li>Verifies that the proposal satisfies the safe node predicate</li>
<li>Generates a vote (partial signature) for the proposal for the prepare phase</li>
<li>Sends the vote to the leader</li>
</ul>
</li>
<li>
<p>Pre-Commit</p>
<p>In this phase, the replica:</p>
<ul>
<li>Waits for a Prepare QC from the leader</li>
<li>Generates a vote for the proposal for the pre-commit stage</li>
<li>Sends the vote to the leader</li>
</ul>
</li>
<li>
<p>Commit</p>
<p>In this phase, the replica:</p>
</li>
</ol>
<ul>
<li>Waits for a Pre-Commit QC from the leader</li>
<li>Generates a vote for the proposal for the commit stage</li>
<li>Sends the vote to the leader</li>
</ul>
<ol start="4">
<li>
<p>Decide</p>
<p>In this phase, the replica:</p>
</li>
</ol>
<ul>
<li>Waits for the Commit QC from the node</li>
<li>Executes the commands between the previously committed Leaf and the one in the proposal for this
view</li>
</ul>
<h3 id="pipelined"><a href="#pipelined">Pipelined</a></h3>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMzI3cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo3NDZweDtoZWlnaHQ6MzI3cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA3NDYgMzI3IiB3aWR0aD0iNzQ2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzPjxmaWx0ZXIgaGVpZ2h0PSIzMDAlIiBpZD0iZjE1dzY3Z21hZTB2aGoiIHdpZHRoPSIzMDAlIiB4PSItMSIgeT0iLTEiPjxmZUdhdXNzaWFuQmx1ciByZXN1bHQ9ImJsdXJPdXQiIHN0ZERldmlhdGlvbj0iMi4wIi8+PGZlQ29sb3JNYXRyaXggaW49ImJsdXJPdXQiIHJlc3VsdD0iYmx1ck91dDIiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAuNCAwIi8+PGZlT2Zmc2V0IGR4PSI0LjAiIGR5PSI0LjAiIGluPSJibHVyT3V0MiIgcmVzdWx0PSJibHVyT3V0MyIvPjxmZUJsZW5kIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImJsdXJPdXQzIiBtb2RlPSJub3JtYWwiLz48L2ZpbHRlcj48L2RlZnM+PGc+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2YxNXc2N2dtYWUwdmhqKSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2NSIgeD0iNjEuNSIgeT0iMTM3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNjEuNSIgeDI9IjEyNi41IiB5MT0iMTYzLjI5NjkiIHkyPSIxNjMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQ1IiB4PSI3MS41IiB5PSIxNTQuOTk1MSI+VmlldyAxPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMTV3NjdnbWFlMHZoaikiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNjUiIHg9IjE2MS41IiB5PSIxMzciLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIxNjEuNSIgeDI9IjIyNi41IiB5MT0iMTYzLjI5NjkiIHkyPSIxNjMuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQ1IiB4PSIxNzEuNSIgeT0iMTU0Ljk5NTEiPlZpZXcgMjwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE1dzY3Z21hZTB2aGopIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijg1IiB4PSI2NDkuNSIgeT0iMTM3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iNjQ5LjUiIHgyPSI3MzQuNSIgeTE9IjE2My4yOTY5IiB5Mj0iMTYzLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iNjU5LjUiIHk9IjE1NC45OTUxIj5WaWV3IG4razwvdGV4dD48ZWxsaXBzZSBjeD0iMTYiIGN5PSIxNjIiIGZpbGw9IiMwMDAwMDAiIGZpbHRlcj0idXJsKCNmMTV3NjdnbWFlMHZoaikiIHJ4PSIxMCIgcnk9IjEwIiBzdHlsZT0ic3Ryb2tlOiBub25lOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE1dzY3Z21hZTB2aGopIiBoZWlnaHQ9IjMwOC4yOTY5IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE2NSIgeD0iMjYxLjUiIHk9IjgiLz48cmVjdCBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI3NiIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjRkZGRkZGOyBzdHJva2Utd2lkdGg6IDEuMDsiIHdpZHRoPSIxNTkiIHg9IjI2NC41IiB5PSIzNy4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjYxLjUiIHgyPSI0MjYuNSIgeTE9IjM0LjI5NjkiIHkyPSIzNC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNDUiIHg9IjMyMS41IiB5PSIyNS45OTUxIj5WaWV3IG48L3RleHQ+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2YxNXc2N2dtYWUwdmhqKSIgaGVpZ2h0PSI1MC4yNjU2IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijg3IiB4PSIyNzIuNSIgeT0iNDcuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjI3Mi41IiB4Mj0iMzU5LjUiIHkxPSI3My41OTM4IiB5Mj0iNzMuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY3IiB4PSIyODIuNSIgeT0iNjUuMjkyIj5QcmVwYXJlIG48L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMzgiIHg9IjI3Ny41IiB5PSI4OS43MzI0Ij5jbWQgbjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsgc3Ryb2tlLWRhc2hhcnJheTogOC4wLDEwLjA7IiB4MT0iMjY2LjUiIHgyPSI0MTkuNSIgeTE9IjEwNy4yOTY5IiB5Mj0iMTA3LjI5NjkiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE1dzY3Z21hZTB2aGopIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjEyMSIgeD0iMjcyLjUiIHk9IjExNS4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB4MT0iMjcyLjUiIHgyPSIzOTMuNSIgeTE9IjE0MS41OTM4IiB5Mj0iMTQxLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMDEiIHg9IjI4Mi41IiB5PSIxMzMuMjkyIj5QcmVjb21taXQgbi0xPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyBzdHJva2UtZGFzaGFycmF5OiA4LjAsMTAuMDsiIHgxPSIyNjYuNSIgeDI9IjQxOS41IiB5MT0iMTc1LjI5NjkiIHkyPSIxNzUuMjk2OSIvPjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMTV3NjdnbWFlMHZoaikiIGhlaWdodD0iNTAiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTAwIiB4PSIyNzIuNSIgeT0iMTgzLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyNzIuNSIgeDI9IjM3Mi41IiB5MT0iMjA5LjU5MzgiIHkyPSIyMDkuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgwIiB4PSIyODIuNSIgeT0iMjAxLjI5MiI+Q29tbWl0IG4tMjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsgc3Ryb2tlLWRhc2hhcnJheTogOC4wLDEwLjA7IiB4MT0iMjY2LjUiIHgyPSI0MTkuNSIgeTE9IjI0My4yOTY5IiB5Mj0iMjQzLjI5NjkiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE1dzY3Z21hZTB2aGopIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijk2IiB4PSIyNzIuNSIgeT0iMjUxLjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSIyNzIuNSIgeDI9IjM2OC41IiB5MT0iMjc3LjU5MzgiIHkyPSIyNzcuNTkzOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijc2IiB4PSIyODIuNSIgeT0iMjY5LjI5MiI+RGVjaWRlIG4tMzwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE1dzY3Z21hZTB2aGopIiBoZWlnaHQ9IjMwOC4yOTY5IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE1MiIgeD0iNDYyIiB5PSI4Ii8+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgaGVpZ2h0PSIyNzYiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTogI0ZGRkZGRjsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB3aWR0aD0iMTQ2IiB4PSI0NjUiIHk9IjM3LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0NjIiIHgyPSI2MTQiIHkxPSIzNC4yOTY5IiB5Mj0iMzQuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY2IiB4PSI1MDUiIHk9IjI1Ljk5NTEiPlZpZXcgbisxPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmMTV3NjdnbWFlMHZoaikiIGhlaWdodD0iNTAuMjY1NiIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMDgiIHg9IjQ3MyIgeT0iNDcuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjQ3MyIgeDI9IjU4MSIgeTE9IjczLjU5MzgiIHkyPSI3My41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iODgiIHg9IjQ4MyIgeT0iNjUuMjkyIj5QcmVwYXJlIG4rMTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iNDc4IiB5PSI4OS43MzI0Ij5jbWQgbisxPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyBzdHJva2UtZGFzaGFycmF5OiA4LjAsMTAuMDsiIHgxPSI0NjciIHgyPSI2MDciIHkxPSIxMDcuMjk2OSIgeTI9IjEwNy4yOTY5Ii8+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2YxNXc2N2dtYWUwdmhqKSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMDciIHg9IjQ3MyIgeT0iMTE1LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHgxPSI0NzMiIHgyPSI1ODAiIHkxPSIxNDEuNTkzOCIgeTI9IjE0MS41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iODciIHg9IjQ4MyIgeT0iMTMzLjI5MiI+UHJlY29tbWl0IG48L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IHN0cm9rZS1kYXNoYXJyYXk6IDguMCwxMC4wOyIgeDE9IjQ2NyIgeDI9IjYwNyIgeTE9IjE3NS4yOTY5IiB5Mj0iMTc1LjI5NjkiLz48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZjE1dzY3Z21hZTB2aGopIiBoZWlnaHQ9IjUwIiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjEwMCIgeD0iNDczIiB5PSIxODMuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjQ3MyIgeDI9IjU3MyIgeTE9IjIwOS41OTM4IiB5Mj0iMjA5LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI4MCIgeD0iNDgzIiB5PSIyMDEuMjkyIj5Db21taXQgbi0xPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyBzdHJva2UtZGFzaGFycmF5OiA4LjAsMTAuMDsiIHgxPSI0NjciIHgyPSI2MDciIHkxPSIyNDMuMjk2OSIgeTI9IjI0My4yOTY5Ii8+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2YxNXc2N2dtYWUwdmhqKSIgaGVpZ2h0PSI1MCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI5NiIgeD0iNDczIiB5PSIyNTEuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgeDE9IjQ3MyIgeDI9IjU2OSIgeTE9IjI3Ny41OTM4IiB5Mj0iMjc3LjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3NiIgeD0iNDgzIiB5PSIyNjkuMjkyIj5EZWNpZGUgbi0yPC90ZXh0PjwhLS1saW5rICpzdGFydCB0byBWaWV3MS0tPjxwYXRoIGQ9Ik0yNi4wNSwxNjIgQzM2LjA3LDE2MiA0Ni4wOSwxNjIgNTYuMTEsMTYyICIgZmlsbD0ibm9uZSIgaWQ9IipzdGFydC1WaWV3MSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI2MS4zNSwxNjIsNTIuMzUsMTU4LDU2LjM1LDE2Miw1Mi4zNSwxNjYsNjEuMzUsMTYyIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tbGluayBWaWV3MSB0byBWaWV3Mi0tPjxwYXRoIGQ9Ik0xMjYuODEsMTYyIEMxMzYuNjUsMTYyIDE0Ni40OCwxNjIgMTU2LjMxLDE2MiAiIGZpbGw9Im5vbmUiIGlkPSJWaWV3MS1WaWV3MiIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxNjEuNDYsMTYyLDE1Mi40NiwxNTgsMTU2LjQ2LDE2MiwxNTIuNDYsMTY2LDE2MS40NiwxNjIiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1saW5rIFZpZXcyIHRvIFZpZXdOLS0+PHBhdGggZD0iTTIyNi41MiwxNjIgQzIzNi40MiwxNjIgMjQ2LjMyLDE2MiAyNTYuMjIsMTYyICIgZmlsbD0ibm9uZSIgaWQ9IlZpZXcyLVZpZXdOIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjI2MS40LDE2MiwyNTIuNCwxNTgsMjU2LjQsMTYyLDI1Mi40LDE2NiwyNjEuNCwxNjIiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1saW5rIFZpZXdOIHRvIFZpZXdOMS0tPjxwYXRoIGQ9Ik00MjYuNiwxNjIgQzQzNi42MSwxNjIgNDQ2LjYxLDE2MiA0NTYuNjIsMTYyICIgZmlsbD0ibm9uZSIgaWQ9IlZpZXdOLVZpZXdOMSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0NjEuODUsMTYyLDQ1Mi44NSwxNTgsNDU2Ljg1LDE2Miw0NTIuODUsMTY2LDQ2MS44NSwxNjIiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1saW5rIFZpZXdOMSB0byBWaWV3TkstLT48cGF0aCBkPSJNNjE0LjEsMTYyIEM2MjQuMTIsMTYyIDYzNC4xNCwxNjIgNjQ0LjE2LDE2MiAiIGZpbGw9Im5vbmUiIGlkPSJWaWV3TjEtVmlld05LIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjY0OS40LDE2Miw2NDAuNCwxNTgsNjQ0LjQsMTYyLDY0MC40LDE2Niw2NDkuNCwxNjIiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS0KQHN0YXJ0dW1sDQoNCnN0YXRlIFZpZXcxIGFzICJWaWV3IDEiDQpzdGF0ZSBWaWV3MiBhcyAiVmlldyAyIg0Kc3RhdGUgVmlld04gYXMgIlZpZXcgbiIgew0KDQogICAgc3RhdGUgUHJlcGFyZU4gYXMgIlByZXBhcmUgbiINCiAgICBQcmVwYXJlTjogY21kIG4NCiAgICAtIC0NCiAgICBzdGF0ZSBQcmVjb21taXROIGFzICJQcmVjb21taXQgbi0xIg0KICAgIC0gLQ0KICAgIHN0YXRlIENvbW1pdE4gYXMgIkNvbW1pdCBuLTIiDQogICAgLSAtDQogICAgc3RhdGUgRGVjaWRlTiBhcyAiRGVjaWRlIG4tMyINCn0NCg0Kc3RhdGUgVmlld04xIGFzICJWaWV3IG4rMSIgew0KICAgIHN0YXRlIFByZXBhcmVOMSBhcyAiUHJlcGFyZSBuKzEiDQogICAgUHJlcGFyZU4xOiBjbWQgbisxDQogICAgLSAtDQogICAgc3RhdGUgUHJlY29tbWl0TjEgYXMgIlByZWNvbW1pdCBuIg0KICAgIC0gLQ0KICAgIHN0YXRlIENvbW1pdE4xIGFzICJDb21taXQgbi0xIg0KICAgIC0gLQ0KICAgIHN0YXRlIERlY2lkZU4xIGFzICJEZWNpZGUgbi0yIg0KfQ0KDQpzdGF0ZSBWaWV3TksgYXMgIlZpZXcgbitrIg0KDQpbKl0gLXJpZ2h0LT4gVmlldzENClZpZXcxIC1yaWdodC0+IFZpZXcyDQpWaWV3MiAtcmlnaHRbZGFzaGVkXS0+IFZpZXdODQpWaWV3TiAtcmlnaHQtPiBWaWV3TjENClZpZXdOMSAtcmlnaHRbZGFzaGVkXS0+IFZpZXdOSw0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDE4LjEzKE1vbiBOb3YgMjYgMTQ6MTE6NTEgQ0xTVCAyMDE4KQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogT3BlbkpESyBSdW50aW1lIEVudmlyb25tZW50CkpWTTogT3BlbkpESyA2NC1CaXQgU2VydmVyIFZNCkphdmEgVmVyc2lvbjogMTEuMC4xNSsxMC1VYnVudHUtMHVidW50dTAuMjAuMDQuMQpPcGVyYXRpbmcgU3lzdGVtOiBMaW51eApPUyBWZXJzaW9uOiA1LjQuMC0xMjEtZ2VuZXJpYwpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogZW4KQ291bnRyeTogVVMKLS0+PC9nPjwvc3ZnPg==" alt="chained_hotstuff" /></p>
<p><em>Figure 2: Pipelined HotShot. The four stages (Prepare,Pre-Commit, Commit and Decide) are run in parallel across consecutive proposals.</em></p>
<p>One of the limitations of the sequential version of HotShot is that 3 rounds of interactions are needed before
a leader can commit a block. In order to increase the throughput and latency one can do the following:</p>
<ul>
<li>Have replicas handle the different stages (<em>Prepare</em>, <em>Pre-Commit</em>, <em>Commit</em>, <em>Decide</em>) yielding an update of the blockchain 
state in “parallel” for consecutive/chained proposals during each view.</li>
<li>Let leaders delegate the responsibility to move their initial proposal (Prepare) to the next stages 
to the subsequent leaders/groups of replicas.</li>
</ul>
<p>So in practice during each view <em>n</em>, a leader will propose a new extension to the blockchain, while
the replicas will update their internal state based on proposals made during the view <em>n</em> but also views <em>n-1</em>, <em>n-2</em>, and <em>n-3</em>.
As shown in Figure 2, during <em>view n</em> the following happens:</p>
<ol>
<li>The leader proposes an extension <em>cmd n</em> to the state. This extension is based on the node propose by the previous leader during view <em>n-1</em></li>
<li>Each replica send their vote to the next view leader for the new proposal.</li>
<li>If it is possible, each replica will run the instructions of the <em>pre-commit</em> stage for the proposal made during view <em>n-1</em>.</li>
<li>If it is possible, each replica will run the instructions of the  <em>commit</em> stage for the proposal made during view <em>n-2</em>.</li>
<li>If it is possible, each replica will run the instructions of the <em>decide</em> stage for the proposal during view <em>n-3</em>.</li>
</ol>
<p>With the pipelined protocol, in case there are no failures, a new block will be committed at the end
of each view, which in this case involves only one interaction between each replica and the leader instead of
3 for the sequential version.</p>
<h3 id="cryptographic-sortition"><a href="#cryptographic-sortition">Cryptographic sortition</a></h3>
<p>In order to make HotShot permissionless, we rely on
the cryptographic sortition algorithm introduced in the <a href="https://people.csail.mit.edu/nickolai/papers/gilad-algorand-eprint.pdf">Algorand</a> paper
(see Section 5).</p>
<p>The goal of this algorithm is to dynamically select a committee of small size in order to produce the next view.
Members of this committee use a Verifiable Random Function (VRF) in order to prove they have been elected for participating in the view.
The probability of being elected is proportional to the stake of each member.</p>
<p>Note that in HotShot the leader is not chosen by cryptographic sortition like in Algorand but defined in a deterministic manner
as in Hotstuff.
Thus, our implementation of cryptographic sortition slightly differs from the Algorand’s one (in particular the VRF does not take the <em>role</em> as input).</p>
<h2 id="appendices"><a href="#appendices">Appendices</a></h2><h3 id="definitions"><a href="#definitions">Definitions</a></h3><h4 id="quorum-certificate"><a href="#quorum-certificate">Quorum Certificate</a></h4>
<p>A Quorum Certificate is a threshold signature of a <a href="crate::data::Leaf"><code>Leaf</code></a>, composed of
signatures from at least <code>2f + 1</code> nodes.</p>
<p>In the case of sequential HotShot, or pipelined HotShot without committee election, <code>f</code> is
defined to be the maximum number of faulty nodes the network can tolerate.</p>
<p>In the case of pipelined HotShot with committee election, <code>f</code> is defined to be the maximum number
of faulty committee seats the network can tolerate.</p>
<h4 id="safe-node-predicate"><a href="#safe-node-predicate">Safe Node Predicate</a></h4>
<p>The safe node predicate can be defined using the following rust-like pseudo-code</p>

<div class="example-wrap ignore"><div class='tooltip'>ⓘ</div><pre class="rust rust-example-rendered"><code><span class="kw">fn </span>safe_node(
    hot_shot: HotShot,
    proposal_node: Leaf,
    proposal_justifcation: QuorumCertificate,
) -&gt; bool {
    <span class="kw">let </span>saftey_rule = proposal_node.extends_from(hot_shot.locked_qc);
    <span class="kw">let </span>liveness_rule = proposal_justifcation.view_number &gt; hot_shot.locked_qc;
    saftey_rule || liveness_rule
}</code></pre></div>
<p>In essence, a node is safe if it either extends from the nodes current locked_qc, <em>or</em> contains a
justification quorum certificate with a view number higher than that of the node’s current
locked_qc.</p>
<div class="footnotes"><hr><ol><li id="fn1"><p>Though, it should be noted, that it technically valid for the election process to specifiy
arbitrarily many leaders for a round, but at most one of them will be able to make progress&nbsp;<a href="#fnref1">↩</a></p></li><li id="fn2"><p>The network will complete a view and move on to the next one as fast as network conditions,
irrespective of the timeout value for the round&nbsp;<a href="#fnref2">↩</a></p></li></ol></div></div></details></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="hotshot" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0 (fc594f156 2023-01-24)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>